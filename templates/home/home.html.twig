{% extends 'layout.html.twig' %}

{% block title %}TheOrienteeringHub | Home{% endblock %}

{% block body_class %}{% endblock %}

{% block body %}
	<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    	<h2 class="display-4">Home</h2>
    </div>
	<div class="container pt-4">
        {% set counter = 1 %}
    	{%for post in posts %}
    	{% if counter % 2 == 1 %}
    	<div class="row featurette ohub-color-2">
    		<div class="col-md-7">
    			<h2 class="featurette-heading">
    				{{ post.title }}
    				<br> <span class="text-muted post-date">Posted on : {{ post.createdOn|date('d-m-Y') }}</span>
    			</h2>
    			<h4>Author : <a href="{{ path('viewPerson', { 'id':post.author.id }) }}">{{ post.author.firstname }} {{ post.author.lastname }}</a></h3>
    			<p class="lead">
    				{{ post.description }}
    			</p>
    			<a class="btn btn-primary"
    				href="{{ path('viewPost', { 'id':post.id }) }}">Details</a>
    		</div>
    		<div class="col-md-5">
    			<div id="myCarousel{{ post.id }}" class="carousel slide"
    				data-ride="carousel">
    				<ol class="carousel-indicators">
    					{% if postImages[post.id]|length == 1 %}
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="0"
    						class="active"></li>
    					{% elseif postImages[post.id]|length == 2 %}
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="0"
    						class="active"></li>
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="1"></li>
    					{% elseif postImages[post.id]|length == 3 %}
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="0"
    						class="active"></li>
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="1"></li>
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="2"></li>
    					{% else %}
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="0"
    						class="active"></li>
    					{% endif %}
    				</ol>
    				<div class="carousel-inner">
    					{% if postImages[post.id]|length == 1 %}
    					<div class="carousel-item active">
    						<img class="first-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][0].imagename) }}"
    							alt="First slide">
    					</div>
    					{% elseif postImages[post.id]|length == 2 %}
    					<div class="carousel-item active">
    						<img class="first-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][0].imagename) }}"
    							alt="First slide">
    					</div>
    					<div class="carousel-item">
    						<img class="second-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][1].imagename) }}"
    							alt="Second slide">
    					</div>
    					{% elseif postImages[post.id]|length == 3 %}
    					<div class="carousel-item active">
    						<img class="first-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][0].imagename) }}"
    							alt="First slide">
    					</div>
    					<div class="carousel-item">
    						<img class="second-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][1].imagename) }}"
    							alt="Second slide">
    					</div>
    					<div class="carousel-item">
    						<img class="third-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][2].imagename) }}"
    							alt="Third slide"> -->
    					</div>
    					{% else %}
    					<div class="carousel-item active">
    						<img class="first-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/missing-photo.jpg') }}"
    							alt="First slide">
    					</div>
    					{% endif %}
    				</div>
    				<a class="carousel-control-prev" href="#myCarousel{{ post.id }}"
    					role="button" data-slide="prev"> <span
    					class="carousel-control-prev-icon" aria-hidden="true"></span> <span
    					class="sr-only">Previous</span>
    				</a> <a class="carousel-control-next" href="#myCarousel{{ post.id }}"
    					role="button" data-slide="next"> <span
    					class="carousel-control-next-icon" aria-hidden="true"></span> <span
    					class="sr-only">Next</span>
    				</a>
    			</div>
    		</div>
    	</div>
    
    	<hr class="featurette-divider">
    	{% else %}
    	<div class="row featurette ohub-color-4">
    		<div class="col-md-7 order-md-2">
    			<h2 class="featurette-heading">
    				{{ post.title }}
    				<br> <span class="text-muted post-date">Posted on : {{ post.createdOn|date('d-m-Y') }}</span>
    			</h2>
    			<h4>Author : <a href="{{ path('viewPerson', { 'id':post.author.id }) }}">{{ post.author.firstname }} {{ post.author.lastname }}</a></h3>
    			<p class="lead">
    				{{ post.description }}
    			</p>
    			<a class="btn btn-primary"
    				href="{{ path('viewPost', { 'id':post.id }) }}">Details</a>
    		</div>
    		<div class="col-md-5 order-md-1">
    			<div id="myCarousel{{ post.id }}" class="carousel slide"
    				data-ride="carousel">
    				<ol class="carousel-indicators">
    					{% if postImages[post.id]|length == 1 %}
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="0"
    						class="active"></li>
    					{% elseif postImages[post.id]|length == 2 %}
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="0"
    						class="active"></li>
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="1"></li>
    					{% elseif postImages[post.id]|length == 3 %}
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="0"
    						class="active"></li>
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="1"></li>
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="2"></li>
    					{% else %}
    					<li data-target="#myCarousel{{ post.id }}" data-slide-to="0"
    						class="active"></li>
    					{% endif %}
    				</ol>
    				<div class="carousel-inner">
    					{% if postImages[post.id]|length == 1 %}
    					<div class="carousel-item active">
    						<img class="first-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][0].imagename) }}"
    							alt="First slide">
    					</div>
    					{% elseif postImages[post.id]|length == 2 %}
    					<div class="carousel-item active">
    						<img class="first-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][0].imagename) }}"
    							alt="First slide">
    					</div>
    					<div class="carousel-item">
    						<img class="second-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][1].imagename) }}"
    							alt="Second slide">
    					</div>
    					{% elseif postImages[post.id]|length == 3 %}
    					<div class="carousel-item active">
    						<img class="first-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][0].imagename) }}"
    							alt="First slide">
    					</div>
    					<div class="carousel-item">
    						<img class="second-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][1].imagename) }}"
    							alt="Second slide">
    					</div>
    					<div class="carousel-item">
    						<img class="third-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/' ~ postImages[post.id][2].imagename) }}"
    							alt="Third slide"> -->
    					</div>
    					{% else %}
    					<div class="carousel-item active">
    						<img class="first-slide featurette-image img-fluid mx-auto"
    							src="{{ asset('build/images/missing-photo.jpg') }}"
    							alt="First slide">
    					</div>
    					{% endif %}
    				</div>
    				<a class="carousel-control-prev" href="#myCarousel{{ post.id }}"
    					role="button" data-slide="prev"> <span
    					class="carousel-control-prev-icon" aria-hidden="true"></span> <span
    					class="sr-only">Previous</span>
    				</a> <a class="carousel-control-next" href="#myCarousel{{ post.id }}"
    					role="button" data-slide="next"> <span
    					class="carousel-control-next-icon" aria-hidden="true"></span> <span
    					class="sr-only">Next</span>
    				</a>
    			</div>
    		</div>
    	</div>
    
    	<hr class="featurette-divider">
    	{% endif %}
    	{% set counter = counter + 1 %}
    	{% else %}
    	<p class="mt-3 mb-5 text-muted side-note text-center">No posts have
    		been found in the database</p>
    	{% endfor %}
    
    	{% set counter = counter - 1 %}
    	<p class="mt-3 mb-5 text-muted side-note text-center">
    		Total number of posts :
    		{{ counter }}
    	</p>
    </div>
{% endblock %}